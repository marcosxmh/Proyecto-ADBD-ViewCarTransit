<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vehículos</title>
    <link rel="stylesheet" href="../static/styles.css">
</head>
<body>
    <div class="container">
        <h1>Lista de Vehículos</h1>
        <form method="POST">
            <input type="text" name="matricula" placeholder="Matrícula" required>
            
            <!-- Selector de tipo de vehículo -->
            <select id="tipo_vehiculo" name="tipo_vehiculo" required>
                <option value="">Selecciona el tipo</option>
                <option value="furgoneta">Furgoneta</option>
                <option value="camion">Camión</option>
            </select>
            <button type="submit">Agregar Vehículo</button>
        </form>
        <div class="table-container">
            <table class ="double-table">
                <caption>Furgonetas</caption>
                <tr>
                    <th>Matrícula</th>
                    <th>Modelo</th>
                    <th>Color</th>
                    <th>Estado</th>
                    <th>Nombre Sede</th>
                    <th>ID Sede</th>
                    <th>Nombre Taller</th>
                    <th>ID Taller</th>
                    <th>Portón</th>
                </tr>
                {% for furgoneta in furgonetas %}
                <tr>
                    <td>{{ furgoneta[0] }}</td>
                    <td>{{ furgoneta[1] }}</td>
                    <td>{{ furgoneta[2] }}</td>
                    <td>{{ furgoneta[3] }}</td>
                    <td>{{ furgoneta[4] }}</td>
                    <td>{{ furgoneta[5] }}</td>
                    <td>{{ furgoneta[6] }}</td>
                    <td>{{ furgoneta[7] }}</td>
                    <td>{{ furgoneta[8] }}</td>
                </tr>
                {% endfor %}
            </table>
            <table class="double-table">
                <caption>Camiones</caption>
                <tr>
                    <th>Matrícula</th>
                    <th>Modelo</th>
                    <th>Color</th>
                    <th>Estado</th>
                    <th>Nombre Sede</th>
                    <th>ID Sede</th>
                    <th>Nombre Taller</th>
                    <th>ID Taller</th>
                    <th>Trailer</th>
                </tr>
                {% for camion in camiones %}
                <tr>
                    <td>{{ camion[0] }}</td>
                    <td>{{ camion[1] }}</td>
                    <td>{{ camion[2] }}</td>
                    <td>{{ camion[3] }}</td>
                    <td>{{ camion[4] }}</td>
                    <td>{{ camion[5] }}</td>
                    <td>{{ camion[6] }}</td>
                    <td>{{ camion[7] }}</td>
                    <td>{{ camion[8] }}</td>
                </tr>
                {% endfor %}
            </table>
        </div>        
    </div>

    <script>
        // Función para mostrar campos adicionales según el tipo de vehículo
        document.getElementById('tipo_vehiculo').addEventListener('change', function() {
            var tipo = this.value;
            
            // Ocultar ambos campos por defecto
            document.getElementById('porton_field').style.display = 'none';
            document.getElementById('trailer_field').style.display = 'none';
            
            // Mostrar el campo correspondiente según la opción seleccionada
            if (tipo === 'furgoneta') {
                document.getElementById('porton_field').style.display = 'block';
            } else if (tipo === 'camion') {
                document.getElementById('trailer_field').style.display = 'block';
            }
        });
    </script>
</body>

</html>
